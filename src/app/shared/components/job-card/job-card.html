<div
    class="group bg-[#1a1a1a] border border-white/5 p-6 rounded-2xl hover:border-orange-500/40 hover:-translate-y-1 transition-all duration-300 shadow-lg flex flex-col h-full"
>
    <div class="flex justify-between items-start mb-4">
        <div
            class="bg-orange-500/10 text-orange-500 text-[10px] px-2 py-1 rounded font-black tracking-widest uppercase"
        >
            {{ job().levels[0]?.name || 'INTERN' }}
        </div>
        <span class="text-neutral-600 text-xs">{{ job().publication_date | date: 'MMM d' }}</span>
    </div>

    <div class="grow">
        <h3 class="text-lg font-bold text-white mb-1 group-hover:text-orange-500 transition-colors">
            {{ job().name }}
        </h3>
        <p class="text-orange-500/70 text-sm mb-4 font-semibold">{{ job().company.name }}</p>

        <div class="flex flex-wrap gap-2 mb-4">
            @for (loc of job().locations; track loc.name) {
                <span
                    class="text-[10px] bg-black px-2 py-1 rounded text-neutral-400 flex items-center gap-1"
                >
                    <span class="material-icons text-xs text-orange-500">location_on</span>
                    {{ loc.name }}
                </span>
            }
        </div>

        <p class="text-sm text-neutral-500 line-clamp-3 mb-6 leading-relaxed">
            {{ stripHtml(job().contents) }}
        </p>
    </div>

    <div class="flex items-center gap-2 mt-auto pt-4 border-t border-white/5">
        <a
            [href]="job().refs.landing_page"
            target="_blank"
            class="flex-1 text-center py-2.5 border border-white/10 rounded-xl text-white font-bold hover:bg-white hover:text-black transition-all text-sm"
        >
            Details
        </a>

        @if (isAuth) {
            <app-favorite-button [job]="job()" />

            <app-apply-button [job]="job()" />
        }
    </div>
</div>
